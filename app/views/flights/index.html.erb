<%= render "search_form", :airports => @airports, :flight_dates => @flight_dates %>

<% unless @flight_results.nil? %>
    <% if @flight_results.empty? %>
      <p>No Results Found.</p>
    <% else %>
      <%= form_with url: new_booking_path, method: 'get', data: { turbo: false }, class: 'centered-column' do %>
        <%= hidden_field_tag 'num_passengers', value = params[:num_passengers] %>
        <% @flight_results.each do |flight| %>
          <div class="content-card flex-center">
          <%= label_tag "flight_id_#{flight.id}" do %>
              <div class="flight-details">
                <p><%= flight.departure.airport_code %></p>
                <%= image_tag('right-arrow-purple.png', class: 'image') %>
                <p><%= flight.destination.airport_code %></p>
                <p><%= flight.start_time %></p>
                <p><%= flight.duration %> hours</p>
                <p><%= flight.start_time + flight.duration.hours %></p>
              </div>
            <% end %>
            <div class="flight-select">
              <%= radio_button_tag :flight_id, flight.id, required: true %>
            </div>
          </div>
        <% end %>
        <%= submit_tag('Start flying!', class: 'button action') %>
      <% end %>
    <% end %>
<% end %>

